{"version":3,"sources":["Components/PersonForm.js","Components/PersonDetails.js","Components/Filter.js","Components/Notification.js","services/record.js","App.js","index.js"],"names":["Form","newName","newNumber","handleNewName","handleNewNumber","addNewName","onSubmit","value","onChange","type","Details","name","number","id","deleteName","onClick","Filter","persons","setPersonsToShow","event","a","target","showPerson","filter","person","toLowerCase","includes","Notification","message","className","baseurl","getAll","request","axios","get","response","data","create","obj","post","deleteOne","delete","update","put","App","people","useState","setPersons","setNewName","setNewNumber","personsToShow","errorMessage","setErrorMessage","window","confirm","recordService","then","per","n","m","preventDefault","flag","rem","forEach","temp","console","log","setTimeout","catch","error","map","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b9f5498a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Form = ({ newName, newNumber, handleNewName, handleNewNumber, addNewName }) => {\r\n  \r\n  return (\r\n    <form onSubmit={addNewName}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNewName} /> <br />\r\n        number: <input value={newNumber} onChange={handleNewNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst Details = ({  name, number, id, deleteName }) => (\r\n    <li key={id} >\r\n        {name} {number} <button onClick={() => deleteName(id, name)} >Delete</button>\r\n    </li>\r\n);\r\n\r\nexport default Details;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ persons, setPersonsToShow }) => {\r\n  const nameFilter = (event) => {\r\n    let a = event.target.value;\r\n    const showPerson = persons.filter(\r\n      (person) => person.name.toLowerCase().includes(a.toLowerCase()) === true\r\n    );\r\n    setPersonsToShow(showPerson);\r\n  };\r\n  return (\r\n    <>\r\n      filter shown with <input onChange={nameFilter} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import react from \"react\";\r\n\r\nconst Notification = ({message}) => {\r\n    if(message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"notification\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import axios from 'axios'\r\n\r\nconst baseurl = '/api/persons'\r\n\r\nconst getAll = async () => {\r\n    const request = axios.get(baseurl)\r\n    const response = await request\r\n    return response.data\r\n}\r\n\r\nconst create = async (obj) => {\r\n    const request = axios.post(baseurl, obj)\r\n    const response = await request\r\n    return response.data\r\n}\r\n\r\nconst deleteOne = async (id) => {\r\n    const request = axios.delete(`${baseurl}/${id}`)\r\n    const response = await request\r\n    return response.data\r\n}\r\n\r\nconst update = async (id, obj) => {\r\n    const request = axios.put(`${baseurl}/${id}`, obj)\r\n    const response = await request\r\n    return response.data\r\n}\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    deleteOne,\r\n    update\r\n}","import React, { useState } from \"react\";\r\nimport Form from \"./Components/PersonForm\";\r\nimport Details from \"./Components/PersonDetails\";\r\nimport Filter from \"./Components/Filter\";\r\nimport Notification from \"./Components/Notification\";\r\nimport recordService from './services/record'\r\n\r\nconst App = ({people}) => {\r\n\r\n  const [persons, setPersons] = useState([...people]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [personsToShow, setPersonsToShow] = useState(people);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const handleNewName = (event) => {\r\n    let n = event.target.value;\r\n    setNewName(n);\r\n  };\r\n\r\n  const handleNewNumber = (event) => {\r\n    let m = event.target.value;\r\n    setNewNumber(m);\r\n  };\r\n\r\n  const addNewName = (event) => {\r\n    event.preventDefault();\r\n\r\n    let flag = false;\r\n    let rem = false;\r\n    persons.forEach((person) => {\r\n      if (person.name === newName) {\r\n        if(window.confirm(`${person.name} has already been added to the phonebook. replace the old number with the new one?`)) {\r\n          let temp = {\r\n            name: person.name,\r\n            number: newNumber,\r\n            id: person.id\r\n          }\r\n          console.log(temp);\r\n          recordService.update(person.id, temp).then(response => {\r\n            setErrorMessage(`${person.name} has been updated!`)\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 3000)\r\n          }).catch(error => {\r\n            setErrorMessage(`${person.name} has already been removed from server!`)\r\n            rem=true;\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 3000)\r\n          })\r\n          if(!rem) {\r\n            setPersonsToShow(personsToShow.map(per => per.id !== temp.id ? per : temp))\r\n          }\r\n        }\r\n        flag = true;\r\n      }\r\n    });\r\n    if (flag === false) {\r\n      let temp = {\r\n        name: newName,\r\n        number: newNumber\r\n      };\r\n      recordService.create(temp).then(response => {\r\n        setPersons(persons.concat(response));\r\n        setNewName(\"\");\r\n        setNewNumber(\"\");\r\n        setPersonsToShow(persons.concat(response));\r\n\r\n        setErrorMessage(`${temp.name} has been added!`)\r\n        setTimeout(()=>{\r\n          setErrorMessage(null)\r\n        }, 3000)\r\n      })\r\n    }\r\n  };\r\n\r\n  const deleteName = (id, name) => {\r\n    if(window.confirm(`Are you sure you want to delete ${name} ?`)) {\r\n      recordService.deleteOne(id).then(response => {\r\n        setPersonsToShow(personsToShow.filter(per => per.name !== name))\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={errorMessage}/>\r\n      <Filter persons={persons} setPersonsToShow={setPersonsToShow} />\r\n      <h2>add a new</h2>\r\n      <Form\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNewName={handleNewName}\r\n        handleNewNumber={handleNewNumber}\r\n        addNewName={addNewName}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <ol>\r\n        {personsToShow.map((per) => (\r\n          <Details name={per.name} number={per.number} id={per.id} deleteName={deleteName} />\r\n        ))}\r\n      </ol>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport recordService from './services/record'\r\n\r\nrecordService.getAll().then(response => {\r\n  const people = response;\r\n  console.log(people, typeof(people), response);\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <App people={people} />\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n  );\r\n});\r\n"],"sourceRoot":""}